{% extends 'base.html' %}

{% block content %}
<div class="p-4">
    <!-- Вкладки -->
    <div class="tabs tabs-lg justify-center mb-4">
        <button class="tab tab-bordered tab-active" data-target="groups">Группы</button>
        <button class="tab tab-bordered" data-target="teachers">Преподаватели</button>
        <button class="tab tab-bordered" data-target="rooms">Аудитории</button>
    </div>

    <!-- Контент вкладок -->
    <!-- Группы -->
    <div id="groups" class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
        {% for group in groups %}
            <a href="{{ url_for('main.schedule', type='group', value=group) }}"
               class="btn btn-outline btn-md">
                {{ group }}
            </a>
        {% endfor %}
    </div>

    <!-- Преподаватели -->
    <div id="teachers" class="hidden grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
        {% for teacher in teachers %}
            <a href="{{ url_for('main.schedule', type='teacher', value=teacher) }}"
               class="btn btn-outline btn-md">
                {{ teacher }}
            </a>
        {% endfor %}
    </div>

    <!-- Аудитории -->
    <div id="rooms" class="hidden grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
        {% for room in rooms %}
            <a href="{{ url_for('main.schedule', type='room', value=room) }}"
               class="btn btn-outline btn-md">
                {{ room }}
            </a>
        {% endfor %}
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const tabs = document.querySelectorAll('.tab');

    tabs.forEach(tab => {
        tab.addEventListener('click', () => {
            // Управление вкладками
            tabs.forEach(t => t.classList.remove('tab-active'));
            tab.classList.add('tab-active');

            // Управление контентом
            document.querySelectorAll('[id]').forEach(content => content.classList.add('hidden'));
            document.getElementById(tab.dataset.target).classList.remove('hidden');
        });
    });

    // Сохранение и восстановление активной вкладки
    const activeTab = localStorage.getItem('activeTab');
    if (activeTab) {
        const tab = document.querySelector(`[data-target="${activeTab}"]`);
        if (tab) tab.click();
    }

    tabs.forEach(tab => {
        tab.addEventListener('click', () => {
            localStorage.setItem('activeTab', tab.dataset.target);
        });
    });
});
</script>
{% endblock %}